{% extends 'index.html' %}


{% block content %}
{#{% block title %}我的个人博客{% endblock %}#}

    <div class="contain">
        <div class="row">
            <div class="col-md-7 col-md-offset-1">
                <div class="panel panel-info">
                    共 {{ Blogs|length }} 篇博客
                </div>

                    {% for blog in pageBlogs %}
                <div class="media">
                    <div class="media position-relative">
                        <a>
                            <img src="..." alt="...">
                        </a>
                    </div>
                    <div class="media-body">
                        <h3>
                            <a class="media-heading" href="{% url 'blog_detail' blog.id %}">{{ blog.blogTitle }}
                            </a>
                        </h3>
                        <h5>
                            <span class="glyphicon glyphicon-star" aria-hidden="true">star</span>
                            <span>阅读数：{{ blog.get_read_num }}</span>
                            <a href="{% url 'blog_with_type' blog.blogType.id %}">{{ blog.blogType }}
                            </a>
                        </h5>
                        <p>{{ blog.blogContent | truncatechars:30 }}</p>
                    </div>
                </div>
                    {% empty %}
                       <p>暂无博客，敬请期待</p>
                    {% endfor %}

{#                <ul>#}
{#                    {% for blog in pageBlogs %}#}
{#                    <li>#}
{#                        <a>{{ blog.blog_createdTime | date:"Y-m-d " }}</a>#}
{#                        <a href="{% url 'blog_detail' blog.id %}">{{ blog.blogTitle }}</a>#}
{#                        <a href="{% url 'blog_with_type' blog.blogType.id %}">{{ blog.blogType }}</a>#}
{#                        <a>{{ blog.blogContent | truncatechars:30 }}</a>#}
{#                    </li>#}
{##}
{#                    {% empty %}#}
{#                       <p>暂无博客，敬请期待</p>#}
{#                    {% endfor %}#}
{#                </ul>#}
        </div>
            <div class="col-md-2">
{#                <div>博客分类#}
{#                {% for name in right_typeNames %}#}
{#                   <a href="{% url 'blog_with_type' name.id %}">{{ name.typeName }} ({{ name.typeCount }})</a>#}
{#                {% endfor %}#}
{#                </div>#}

                <div class="list-group">
                    <a href="#" class="list-group-item active">
                        标签栏
                    </a>
                        {% for name in right_typeNames %}
                    <a class="list-group-item" href="{% url 'blog_with_type' name.id %}">{{ name.typeName }} ({{ name.typeCount }})
                    </a>
                        {% endfor %}
                </div>

                <div class="list-group">
                    <a href="#" class="list-group-item active">
                        日期归档
                    </a>
                        {% for date,count in blog_dates.items %}
                    <a class="list-group-item" href="{% url 'blog_with_date' date.year date.month %}">{{ date | date:"Y年m月"}} ({{ count }})
                    </a>
                        {% endfor %}
                </div>



            </div>
        </div>
    </div>





    <div class="col-md-offset-2">
        <nav aria-label="Page navigation">
            <ul class="pagination">
                <li>
                {% if pageBlogs.has_previous %}
                    <a href="?page={{ pageBlogs.previous_page_number }}" aria-label="Previous">
                    <span aria-hidden="true"> << </span>
                    {% endif %}
                    </a>
                </li>

                {% if pageBlogs.number != 1  %}
                <li><a href="?page=1">1</a></li>
                    {% endif %}

                <li><a href="?page={{ pageBlogs.number }}"> {{ pageBlogs.number }} </a> </li>
                <li><a href="#">共 {{ pageBlogs.paginator.num_pages }} 页</a></li>

                    {% if pageBlogs.has_next %}
                <li>
                  <a href="?page={{ pageBlogs.next_page_number }}" aria-label="Next">
                    <span aria-hidden="true"> >> </span>
                  </a>
                </li>
                  {% endif %}
            </ul>
        </nav>
    </div>
{##}
{#<div>#}
{#    {% if pageBlogs.number != 1  %}#}
{#    <a href="?page=1">1</a>#}
{#    {% endif %}#}
{##}
{#    {% if pageBlogs.has_previous %}#}
{#    <a href="?page={{ pageBlogs.previous_page_number }}"> << </a>#}
{#    {% endif %}#}
{##}
{##}
{#    <a href="?page={{ pageBlogs.number }}"> {{ pageBlogs.number }}  </a>#}
{##}
{##}
{#    {% if pageBlogs.has_next %}#}
{#    <a href="?page={{ pageBlogs.next_page_number }}"> >> </a>#}
{#    {% endif %}#}
{#    <a>共 {{ pageBlogs.paginator.num_pages }} 页</a>#}
{##}
{#</div>#}


{% endblock %}







